{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport TodoList from \"../components/TodoList\";\nimport { getTodoLists } from \"../API/todoAPI\";\nimport todoData from \"../Helpers/todoData\";\nimport { TokenContext } from \"../Context/Context\";\nexport default function TodoLists() {\n  var _useState = useState(todoData),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var getTodo = function getTodo(token) {\n    console.log(token);\n    getTodoLists(token).then(function (dat) {\n      console.log(dat);\n      setData(data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n  useEffect(function () {\n    React.createElement(TokenContext.Consumer, null, function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n        token = _ref2[0],\n        setToken = _ref2[1];\n      return setData(getTodo(token));\n    });\n  }, [data]);\n  return React.createElement(TodoList, {\n    data: data\n  });\n}","map":{"version":3,"names":["React","useEffect","useState","TodoList","getTodoLists","todoData","TokenContext","TodoLists","data","setData","getTodo","token","console","log","then","dat","catch","err","setToken"],"sources":["/Users/antoninmontagne/Desktop/Info/L3/S5/AppClient/tp1/Screen/TodoListsScreen.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport TodoList from \"../components/TodoList\";\nimport { getTodoLists } from '../API/todoAPI'\nimport todoData from \"../Helpers/todoData\";\nimport { TokenContext } from \"../Context/Context\";\n\nexport default function TodoLists() {\n  const [data, setData] = useState(todoData);\n\n  const getTodo = (token) => {\n            console.log(token)\n            getTodoLists(token)\n            .then(dat => {\n              console.log(dat);\n              setData(data);\n            }\n            )\n            .catch(err => {\n              console.log(err);\n            })\n      }\n      \n  useEffect(() => {\n    <TokenContext.Consumer>\n       {([token, setToken]) => (\n          setData(getTodo(token))\n        )}\n    </TokenContext.Consumer>\n  }, [data]);\n\n  return (\n  <TodoList data={data}/>);\n}\n\n/*const styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: '#fff',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n  });*/\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAElD,OAAOC,QAAQ;AACf,SAASC,YAAY;AACrB,OAAOC,QAAQ;AACf,SAASC,YAAY;AAErB,eAAe,SAASC,SAAS,GAAG;EAClC,gBAAwBL,QAAQ,CAACG,QAAQ,CAAC;IAAA;IAAnCG,IAAI;IAAEC,OAAO;EAEpB,IAAMC,OAAO,GAAG,SAAVA,OAAO,CAAIC,KAAK,EAAK;IACjBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IAClBP,YAAY,CAACO,KAAK,CAAC,CAClBG,IAAI,CAAC,UAAAC,GAAG,EAAI;MACXH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC;MAChBN,OAAO,CAACD,IAAI,CAAC;IACf,CAAC,CACA,CACAQ,KAAK,CAAC,UAAAC,GAAG,EAAI;MACZL,OAAO,CAACC,GAAG,CAACI,GAAG,CAAC;IAClB,CAAC,CAAC;EACR,CAAC;EAELhB,SAAS,CAAC,YAAM;IACd,oBAAC,YAAY,CAAC,QAAQ,QAClB;MAAA;QAAEU,KAAK;QAAEO,QAAQ;MAAA,OACfT,OAAO,CAACC,OAAO,CAACC,KAAK,CAAC,CAAC;IAAA,CACxB,CACmB;EAC1B,CAAC,EAAE,CAACH,IAAI,CAAC,CAAC;EAEV,OACA,oBAAC,QAAQ;IAAC,IAAI,EAAEA;EAAK,EAAE;AACzB"},"metadata":{},"sourceType":"module"}