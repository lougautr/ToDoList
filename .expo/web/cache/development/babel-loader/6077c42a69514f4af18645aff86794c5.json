{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { addTodoList } from \"../../API/todoAPI\";\nimport { AntDesign } from '@expo/vector-icons';\nimport { IconButton } from 'react-native-paper';\nexport default function Input(props) {\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    newTodoText = _useState2[0],\n    setNewTodoText = _useState2[1];\n  var _useState3 = useState(props.token),\n    _useState4 = _slicedToArray(_useState3, 2),\n    token = _useState4[0],\n    setToken = _useState4[1];\n  var _useState5 = useState(props.username),\n    _useState6 = _slicedToArray(_useState5, 2),\n    username = _useState6[0],\n    setUsername = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    error = _useState8[0],\n    setError = _useState8[1];\n  var _useState9 = useState(\"\"),\n    _useState10 = _slicedToArray(_useState9, 2),\n    id = _useState10[0],\n    setId = _useState10[1];\n  var getNewTask = function getNewTask(token, username, title) {\n    setError(\"\");\n    addTodoList(title, username, token).then(function (data) {\n      setId(data.id);\n    }).catch(function (err) {\n      setError(err.message);\n    });\n  };\n  var addTodo = function addTodo() {\n    getNewTask(token, username, newTodoText);\n  };\n  useEffect(function () {\n    if (id != \"\") {\n      props.addNewTodo(newTodoText, id);\n      setNewTodoText(\"\");\n    }\n  }, [id]);\n  var button = function button() {\n    return React.createElement(IconButton, {\n      icon: \"camera\",\n      iconColor: MD3Colors.error50,\n      size: 20,\n      onPress: function onPress() {\n        return console.log('Pressed');\n      }\n    });\n  };\n  return React.createElement(View, {\n    style: styles.container\n  }, React.createElement(TextInput, {\n    style: {\n      width: \"160px\"\n    },\n    onChangeText: setNewTodoText,\n    placeholder: \"saisir ici un nouvel item\",\n    onSubmitEditing: addTodo,\n    value: newTodoText\n  }), React.createElement(Button, {\n    icon: React.createElement(AntDesign, {\n      name: \"pluscircle\",\n      size: \"10px\"\n    }),\n    title: \"+\",\n    onPress: addTodo\n  }));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flexDirection: 'row',\n    paddingTop: \"10px\"\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","addTodoList","AntDesign","IconButton","Input","props","newTodoText","setNewTodoText","token","setToken","username","setUsername","error","setError","id","setId","getNewTask","title","then","data","catch","err","message","addTodo","addNewTodo","button","MD3Colors","error50","console","log","styles","container","width","StyleSheet","create","flexDirection","paddingTop"],"sources":["/Users/antoninmontagne/Desktop/Info/L3/S5/AppClient/tp1/components/UI/Input.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { View, TextInput, Button, StyleSheet } from \"react-native\";\nimport { addTodoList } from \"../../API/todoAPI\";\nimport { AntDesign } from '@expo/vector-icons';\nimport { IconButton } from 'react-native-paper';\n\n\nexport default function Input(props) {\n    const [newTodoText, setNewTodoText] = useState(\"\");\n    const [token, setToken] = useState(props.token);\n    const [username, setUsername] = useState(props.username);\n    const [error, setError] = useState(\"\");\n    const [id, setId] = useState(\"\");\n\n    const getNewTask = (token, username, title) => {\n        setError(\"\");\n        addTodoList(title, username,token)\n          .then((data) => {\n            setId(data.id);\n          })\n          .catch((err) => {\n            setError(err.message);\n          });\n      };\n     \n      const addTodo = () => {\n        getNewTask(token, username, newTodoText);\n      };\n\n      useEffect(() => {\n        if (id != \"\") {\n          props.addNewTodo(newTodoText, id);\n          setNewTodoText(\"\");\n        }\n      }, [id]);\n\n      const button = () => (\n        <IconButton\n          icon=\"camera\"\n          iconColor={MD3Colors.error50}\n          size={20}\n          onPress={() => console.log('Pressed')}\n        />\n      );\n\n      \n\n    return (\n        <View style={styles.container}>\n            <TextInput\n                style={{ width: \"160px\" }}\n                onChangeText={setNewTodoText}\n                placeholder=\"saisir ici un nouvel item\"\n                onSubmitEditing={addTodo}\n                value={newTodoText}\n            />\n            <Button icon={<AntDesign name=\"pluscircle\" size=\"10px\"/>} title=\"+\" onPress={addTodo} />\n            </View>\n    )\n}\n\n   const styles = StyleSheet.create({\n        container: {\n            flexDirection: 'row',\n            paddingTop: \"10px\",\n        },\n    })\n\n"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAAC;AAAA;AAAA;AAAA;AAEjD,SAASC,WAAW;AACpB,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,UAAU,QAAQ,oBAAoB;AAG/C,eAAe,SAASC,KAAK,CAACC,KAAK,EAAE;EACjC,gBAAsCN,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA3CO,WAAW;IAAEC,cAAc;EAClC,iBAA0BR,QAAQ,CAACM,KAAK,CAACG,KAAK,CAAC;IAAA;IAAxCA,KAAK;IAAEC,QAAQ;EACtB,iBAAgCV,QAAQ,CAACM,KAAK,CAACK,QAAQ,CAAC;IAAA;IAAjDA,QAAQ;IAAEC,WAAW;EAC5B,iBAA0BZ,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA/Ba,KAAK;IAAEC,QAAQ;EACtB,iBAAoBd,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAzBe,EAAE;IAAEC,KAAK;EAEhB,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAIR,KAAK,EAAEE,QAAQ,EAAEO,KAAK,EAAK;IAC3CJ,QAAQ,CAAC,EAAE,CAAC;IACZZ,WAAW,CAACgB,KAAK,EAAEP,QAAQ,EAACF,KAAK,CAAC,CAC/BU,IAAI,CAAC,UAACC,IAAI,EAAK;MACdJ,KAAK,CAACI,IAAI,CAACL,EAAE,CAAC;IAChB,CAAC,CAAC,CACDM,KAAK,CAAC,UAACC,GAAG,EAAK;MACdR,QAAQ,CAACQ,GAAG,CAACC,OAAO,CAAC;IACvB,CAAC,CAAC;EACN,CAAC;EAED,IAAMC,OAAO,GAAG,SAAVA,OAAO,GAAS;IACpBP,UAAU,CAACR,KAAK,EAAEE,QAAQ,EAAEJ,WAAW,CAAC;EAC1C,CAAC;EAEDN,SAAS,CAAC,YAAM;IACd,IAAIc,EAAE,IAAI,EAAE,EAAE;MACZT,KAAK,CAACmB,UAAU,CAAClB,WAAW,EAAEQ,EAAE,CAAC;MACjCP,cAAc,CAAC,EAAE,CAAC;IACpB;EACF,CAAC,EAAE,CAACO,EAAE,CAAC,CAAC;EAER,IAAMW,MAAM,GAAG,SAATA,MAAM;IAAA,OACV,oBAAC,UAAU;MACT,IAAI,EAAC,QAAQ;MACb,SAAS,EAAEC,SAAS,CAACC,OAAQ;MAC7B,IAAI,EAAE,EAAG;MACT,OAAO,EAAE;QAAA,OAAMC,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;MAAA;IAAC,EACtC;EAAA,CACH;EAIH,OACI,oBAAC,IAAI;IAAC,KAAK,EAAEC,MAAM,CAACC;EAAU,GAC1B,oBAAC,SAAS;IACN,KAAK,EAAE;MAAEC,KAAK,EAAE;IAAQ,CAAE;IAC1B,YAAY,EAAEzB,cAAe;IAC7B,WAAW,EAAC,2BAA2B;IACvC,eAAe,EAAEgB,OAAQ;IACzB,KAAK,EAAEjB;EAAY,EACrB,EACF,oBAAC,MAAM;IAAC,IAAI,EAAE,oBAAC,SAAS;MAAC,IAAI,EAAC,YAAY;MAAC,IAAI,EAAC;IAAM,EAAG;IAAC,KAAK,EAAC,GAAG;IAAC,OAAO,EAAEiB;EAAQ,EAAG,CACjF;AAEnB;AAEG,IAAMO,MAAM,GAAGG,UAAU,CAACC,MAAM,CAAC;EAC5BH,SAAS,EAAE;IACPI,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE;EAChB;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module"}