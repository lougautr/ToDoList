{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { getUsers } from \"../API/todoAPI\";\nimport { TokenContext } from \"../Context/Context\";\nexport default function AdminScreen(props) {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  useEffect(function () {\n    if (data.length == 0) {\n      users(props.token, setData);\n    }\n  }, [data]);\n  var users = function users(token, setData) {\n    setError(\"\");\n    getUsers(username).then(function (data) {\n      setData(data);\n    }).catch(function (err) {\n      setError(err.message);\n    });\n  };\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center'\n    }\n  }, React.createElement(Text, null, \"Liste des utilisateurs\"), React.createElement(FlatList, {\n    data: data,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(View, null, React.createElement(Text, null, item.username));\n    }\n  }));\n}","map":{"version":3,"names":["React","useEffect","useState","getUsers","TokenContext","AdminScreen","props","data","setData","length","users","token","setError","username","then","catch","err","message","flex","justifyContent","alignItems","item"],"sources":["/Users/antoninmontagne/Desktop/Info/L3/S5/AppClient/tp1/Screen/AdminScreen.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\nimport { View, Text } from 'react-native'\nimport { getUsers } from '../API/todoAPI';\n\nimport { TokenContext } from '../Context/Context'\n\nexport default function AdminScreen (props) {\n\n    const [data, setData] = useState([]);\n\n    useEffect(() => {\n        if (data.length == 0) {\n          users(props.token, setData);\n        }\n      }, [data]);\n    \n      const users = (token, setData) => {\n        setError(\"\");\n        getUsers(username)\n          .then((data) => {\n            setData(data);\n          })\n          .catch((err) => {\n            setError(err.message);\n          });\n      };\n\n  return (\n          <View\n            style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}\n          >\n            <Text>Liste des utilisateurs</Text>\n            <FlatList\n                data={data}\n                renderItem={({ item }) => (\n                    <View>\n                        <Text>{item.username}</Text>\n                        </View>\n                )}\n            />\n          </View>\n        )\n}"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAAA;AAAA;AAEhD,SAASC,QAAQ;AAEjB,SAASC,YAAY;AAErB,eAAe,SAASC,WAAW,CAAEC,KAAK,EAAE;EAExC,gBAAwBJ,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA7BK,IAAI;IAAEC,OAAO;EAEpBP,SAAS,CAAC,YAAM;IACZ,IAAIM,IAAI,CAACE,MAAM,IAAI,CAAC,EAAE;MACpBC,KAAK,CAACJ,KAAK,CAACK,KAAK,EAAEH,OAAO,CAAC;IAC7B;EACF,CAAC,EAAE,CAACD,IAAI,CAAC,CAAC;EAEV,IAAMG,KAAK,GAAG,SAARA,KAAK,CAAIC,KAAK,EAAEH,OAAO,EAAK;IAChCI,QAAQ,CAAC,EAAE,CAAC;IACZT,QAAQ,CAACU,QAAQ,CAAC,CACfC,IAAI,CAAC,UAACP,IAAI,EAAK;MACdC,OAAO,CAACD,IAAI,CAAC;IACf,CAAC,CAAC,CACDQ,KAAK,CAAC,UAACC,GAAG,EAAK;MACdJ,QAAQ,CAACI,GAAG,CAACC,OAAO,CAAC;IACvB,CAAC,CAAC;EACN,CAAC;EAEL,OACQ,oBAAC,IAAI;IACH,KAAK,EAAE;MAAEC,IAAI,EAAE,CAAC;MAAEC,cAAc,EAAE,QAAQ;MAAEC,UAAU,EAAE;IAAS;EAAE,GAEnE,oBAAC,IAAI,iCAA8B,EACnC,oBAAC,QAAQ;IACL,IAAI,EAAEb,IAAK;IACX,UAAU,EAAE;MAAA,IAAGc,IAAI,QAAJA,IAAI;MAAA,OACf,oBAAC,IAAI,QACD,oBAAC,IAAI,QAAEA,IAAI,CAACR,QAAQ,CAAQ,CACrB;IAAA;EACb,EACJ,CACG;AAEjB"},"metadata":{},"sourceType":"module"}