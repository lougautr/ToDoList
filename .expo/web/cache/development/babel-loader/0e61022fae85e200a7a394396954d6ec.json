{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { getUsers } from \"../API/todoAPI\";\nimport Delete from \"../components/UI/Delete\";\nexport default function AdminScreen(props) {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  useEffect(function () {\n    if (data.length == 0) {\n      users(props.token, setData);\n    }\n  }, [data]);\n  var users = function users(token, setData) {\n    setError(\"\");\n    getUsers(token).then(function (data) {\n      setData(data);\n    }).catch(function (err) {\n      setError(err.message);\n    });\n  };\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center'\n    }\n  }, React.createElement(Text, {\n    style: styles.titre\n  }, \"Liste des utilisateurs\"), React.createElement(FlatList, {\n    style: styles.items,\n    data: data,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(View, null, React.createElement(Text, null, item.username), React.createElement(Delete, {\n        token: props.token,\n        item: \"\",\n        deleteTodo: props.delete,\n        choix: \"user\"\n      }));\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  titre: {\n    fontSize: 30,\n    textAlign: \"center\",\n    marginTop: 20,\n    marginBottom: 20,\n    fontWeight: \"bold\"\n  },\n  liste: {\n    paddingTop: 10,\n    width: \"100%\",\n    flex: 1\n  },\n  items: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    gap: 10\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","getUsers","Delete","AdminScreen","props","data","setData","error","setError","length","users","token","then","catch","err","message","flex","justifyContent","alignItems","styles","titre","items","item","username","delete","StyleSheet","create","fontSize","textAlign","marginTop","marginBottom","fontWeight","liste","paddingTop","width","gap"],"sources":["/Users/antoninmontagne/Desktop/Info/L3/S5/AppClient/tp1/Screen/AdminScreen.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\nimport { View, Text, FlatList, StyleSheet } from 'react-native'\nimport { getUsers } from '../API/todoAPI';\n\nimport Delete from '../components/UI/Delete';\n\nexport default function AdminScreen (props) {\n\n    const [data, setData] = useState([]);\n    const [error, setError] = useState(\"\");\n\n    useEffect(() => {\n        if (data.length == 0) {\n          users(props.token, setData);\n        }\n      }, [data]);\n    \n      const users = (token, setData) => {\n        setError(\"\");\n        getUsers(token)\n          .then((data) => {\n            setData(data);\n          })\n          .catch((err) => {\n            setError(err.message);\n          });\n      };\n\n  return (\n          <View\n            style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}\n          >\n            <Text style={styles.titre}>Liste des utilisateurs</Text>\n            <FlatList\n                style={styles.items}\n                data={data}\n                renderItem={({ item }) => (\n                    <View>\n                        <Text>{item.username}</Text>\n                        <Delete token={props.token} item={\"\"} deleteTodo={props.delete} choix={\"user\"} />\n                        </View>\n                )}\n            />\n          </View>\n        )\n}\n\nconst styles = StyleSheet.create({\ntitre: {\n  fontSize: 30,\n  textAlign: \"center\",\n  marginTop: 20,\n  marginBottom: 20,\n  fontWeight: \"bold\",\n},\nliste: {\n  paddingTop: 10,\n  width: \"100%\",\n  flex: 1,\n  },\n  items: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      gap: 10,\n  },\n\n});\n"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAAA;AAAA;AAAA;AAAA;AAEhD,SAASC,QAAQ;AAEjB,OAAOC,MAAM;AAEb,eAAe,SAASC,WAAW,CAAEC,KAAK,EAAE;EAExC,gBAAwBJ,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA7BK,IAAI;IAAEC,OAAO;EACpB,iBAA0BN,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA/BO,KAAK;IAAEC,QAAQ;EAEtBT,SAAS,CAAC,YAAM;IACZ,IAAIM,IAAI,CAACI,MAAM,IAAI,CAAC,EAAE;MACpBC,KAAK,CAACN,KAAK,CAACO,KAAK,EAAEL,OAAO,CAAC;IAC7B;EACF,CAAC,EAAE,CAACD,IAAI,CAAC,CAAC;EAEV,IAAMK,KAAK,GAAG,SAARA,KAAK,CAAIC,KAAK,EAAEL,OAAO,EAAK;IAChCE,QAAQ,CAAC,EAAE,CAAC;IACZP,QAAQ,CAACU,KAAK,CAAC,CACZC,IAAI,CAAC,UAACP,IAAI,EAAK;MACdC,OAAO,CAACD,IAAI,CAAC;IACf,CAAC,CAAC,CACDQ,KAAK,CAAC,UAACC,GAAG,EAAK;MACdN,QAAQ,CAACM,GAAG,CAACC,OAAO,CAAC;IACvB,CAAC,CAAC;EACN,CAAC;EAEL,OACQ,oBAAC,IAAI;IACH,KAAK,EAAE;MAAEC,IAAI,EAAE,CAAC;MAAEC,cAAc,EAAE,QAAQ;MAAEC,UAAU,EAAE;IAAS;EAAE,GAEnE,oBAAC,IAAI;IAAC,KAAK,EAAEC,MAAM,CAACC;EAAM,4BAA8B,EACxD,oBAAC,QAAQ;IACL,KAAK,EAAED,MAAM,CAACE,KAAM;IACpB,IAAI,EAAEhB,IAAK;IACX,UAAU,EAAE;MAAA,IAAGiB,IAAI,QAAJA,IAAI;MAAA,OACf,oBAAC,IAAI,QACD,oBAAC,IAAI,QAAEA,IAAI,CAACC,QAAQ,CAAQ,EAC5B,oBAAC,MAAM;QAAC,KAAK,EAAEnB,KAAK,CAACO,KAAM;QAAC,IAAI,EAAE,EAAG;QAAC,UAAU,EAAEP,KAAK,CAACoB,MAAO;QAAC,KAAK,EAAE;MAAO,EAAG,CAC1E;IAAA;EACb,EACJ,CACG;AAEjB;AAEA,IAAML,MAAM,GAAGM,UAAU,CAACC,MAAM,CAAC;EACjCN,KAAK,EAAE;IACLO,QAAQ,EAAE,EAAE;IACZC,SAAS,EAAE,QAAQ;IACnBC,SAAS,EAAE,EAAE;IACbC,YAAY,EAAE,EAAE;IAChBC,UAAU,EAAE;EACd,CAAC;EACDC,KAAK,EAAE;IACLC,UAAU,EAAE,EAAE;IACdC,KAAK,EAAE,MAAM;IACblB,IAAI,EAAE;EACN,CAAC;EACDK,KAAK,EAAE;IACHL,IAAI,EAAE,CAAC;IACPC,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE,QAAQ;IACpBiB,GAAG,EAAE;EACT;AAEF,CAAC,CAAC"},"metadata":{},"sourceType":"module"}