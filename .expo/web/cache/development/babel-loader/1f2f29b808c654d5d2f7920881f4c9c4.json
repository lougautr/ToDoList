{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { addTodoList } from \"../../API/todoAPI\";\nexport default function Input(props) {\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    newTodoText = _useState2[0],\n    setNewTodoText = _useState2[1];\n  var _useState3 = useState(props.token),\n    _useState4 = _slicedToArray(_useState3, 2),\n    token = _useState4[0],\n    setToken = _useState4[1];\n  var _useState5 = useState(props.username),\n    _useState6 = _slicedToArray(_useState5, 2),\n    username = _useState6[0],\n    setUsername = _useState6[1];\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    newTodos = _useState8[0],\n    setNewTodos = _useState8[1];\n  var getNewTask = function getNewTask(token, username, text) {\n    setError(\"\");\n    addTodoList(title, username, token).then(function (data) {\n      setNewTodos(data);\n    }).catch(function (err) {\n      setError(err.message);\n    });\n  };\n  var addNewTodo = function addNewTodo() {\n    setNewTodoText(\"\");\n    getNewTask(token, username, newTodoText);\n    var newTodoList = [].concat(_toConsumableArray(todos), [newTodos]);\n    props.setTodos(newTodoList);\n    props.setTodosSave(newTodoList);\n  };\n  return React.createElement(View, null, React.createElement(TextInput, {\n    onChangeText: setNewTodoText,\n    placeholder: \"saisir ici un nouvel item\",\n    onSubmitEditing: addNewTodo,\n    value: newTodoText\n  }), React.createElement(Button, {\n    title: \"Ajouter\",\n    onPress: addNewTodo\n  }));\n}","map":{"version":3,"names":["React","useState","addTodoList","Input","props","newTodoText","setNewTodoText","token","setToken","username","setUsername","newTodos","setNewTodos","getNewTask","text","setError","title","then","data","catch","err","message","addNewTodo","newTodoList","todos","setTodos","setTodosSave"],"sources":["/Users/antoninmontagne/Desktop/Info/L3/S5/AppClient/tp1/components/UI/Input.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport { View, Text } from \"react-native\";\nimport { addTodoList } from \"../../API/todoAPI\";\n\n\nexport default function Input(props) {\n    const [newTodoText, setNewTodoText] = useState(\"\");\n    const [token, setToken] = useState(props.token);\n    const [username, setUsername] = useState(props.username);\n    const [newTodos, setNewTodos] = useState([]);\n\n\n    const getNewTask = (token, username, text) => {\n        setError(\"\");\n        addTodoList(title, username,token)\n          .then((data) => {\n            setNewTodos(data);\n          })\n          .catch((err) => {\n            setError(err.message);\n          });\n      };\n\n    const addNewTodo = () => {\n        setNewTodoText(\"\");\n        getNewTask(token, username, newTodoText);\n        const newTodoList = [...todos,newTodos];\n        props.setTodos(newTodoList);\n        props.setTodosSave(newTodoList);\n      };\n\n    return (\n        <View>\n            <TextInput\n                onChangeText={setNewTodoText}\n                placeholder=\"saisir ici un nouvel item\"\n                onSubmitEditing={addNewTodo}\n                value={newTodoText}\n            />\n            <Button title=\"Ajouter\" onPress={addNewTodo} />\n            </View>\n    )\n}\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,QAAQ,QAAO,OAAO;AAAC;AAAA;AAEtC,SAASC,WAAW;AAGpB,eAAe,SAASC,KAAK,CAACC,KAAK,EAAE;EACjC,gBAAsCH,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA3CI,WAAW;IAAEC,cAAc;EAClC,iBAA0BL,QAAQ,CAACG,KAAK,CAACG,KAAK,CAAC;IAAA;IAAxCA,KAAK;IAAEC,QAAQ;EACtB,iBAAgCP,QAAQ,CAACG,KAAK,CAACK,QAAQ,CAAC;IAAA;IAAjDA,QAAQ;IAAEC,WAAW;EAC5B,iBAAgCT,QAAQ,CAAC,EAAE,CAAC;IAAA;IAArCU,QAAQ;IAAEC,WAAW;EAG5B,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAIN,KAAK,EAAEE,QAAQ,EAAEK,IAAI,EAAK;IAC1CC,QAAQ,CAAC,EAAE,CAAC;IACZb,WAAW,CAACc,KAAK,EAAEP,QAAQ,EAACF,KAAK,CAAC,CAC/BU,IAAI,CAAC,UAACC,IAAI,EAAK;MACdN,WAAW,CAACM,IAAI,CAAC;IACnB,CAAC,CAAC,CACDC,KAAK,CAAC,UAACC,GAAG,EAAK;MACdL,QAAQ,CAACK,GAAG,CAACC,OAAO,CAAC;IACvB,CAAC,CAAC;EACN,CAAC;EAEH,IAAMC,UAAU,GAAG,SAAbA,UAAU,GAAS;IACrBhB,cAAc,CAAC,EAAE,CAAC;IAClBO,UAAU,CAACN,KAAK,EAAEE,QAAQ,EAAEJ,WAAW,CAAC;IACxC,IAAMkB,WAAW,gCAAOC,KAAK,IAACb,QAAQ,EAAC;IACvCP,KAAK,CAACqB,QAAQ,CAACF,WAAW,CAAC;IAC3BnB,KAAK,CAACsB,YAAY,CAACH,WAAW,CAAC;EACjC,CAAC;EAEH,OACI,oBAAC,IAAI,QACD,oBAAC,SAAS;IACN,YAAY,EAAEjB,cAAe;IAC7B,WAAW,EAAC,2BAA2B;IACvC,eAAe,EAAEgB,UAAW;IAC5B,KAAK,EAAEjB;EAAY,EACrB,EACF,oBAAC,MAAM;IAAC,KAAK,EAAC,SAAS;IAAC,OAAO,EAAEiB;EAAW,EAAG,CACxC;AAEnB"},"metadata":{},"sourceType":"module"}