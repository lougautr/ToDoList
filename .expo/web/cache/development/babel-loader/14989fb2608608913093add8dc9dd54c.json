{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { addTodoList } from \"../../API/todoAPI\";\nexport default function Input(props) {\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    newTodoText = _useState2[0],\n    setNewTodoText = _useState2[1];\n  var _useState3 = useState(props.token),\n    _useState4 = _slicedToArray(_useState3, 2),\n    token = _useState4[0],\n    setToken = _useState4[1];\n  var _useState5 = useState(props.username),\n    _useState6 = _slicedToArray(_useState5, 2),\n    username = _useState6[0],\n    setUsername = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    error = _useState8[0],\n    setError = _useState8[1];\n  var _useState9 = useState(\"\"),\n    _useState10 = _slicedToArray(_useState9, 2),\n    id = _useState10[0],\n    setId = _useState10[1];\n  var getNewTask = function getNewTask(token, username, title) {\n    setError(\"\");\n    addTodoList(title, username, token).then(function (data) {\n      setId(data.id);\n    }).catch(function (err) {\n      setError(err.message);\n    });\n  };\n  var addTodo = function addTodo() {\n    getNewTask(token, username, newTodoText);\n    props.addNewTodo(newTodoText, id);\n    setNewTodoText(\"\");\n  };\n  console.log(\"id\", id);\n  return React.createElement(View, null, React.createElement(TextInput, {\n    onChangeText: setNewTodoText,\n    placeholder: \"saisir ici un nouvel item\",\n    onSubmitEditing: addTodo,\n    value: newTodoText\n  }), React.createElement(Button, {\n    title: \"Ajouter\",\n    onPress: addTodo\n  }));\n}","map":{"version":3,"names":["React","useState","useEffect","addTodoList","Input","props","newTodoText","setNewTodoText","token","setToken","username","setUsername","error","setError","id","setId","getNewTask","title","then","data","catch","err","message","addTodo","addNewTodo","console","log"],"sources":["/Users/antoninmontagne/Desktop/Info/L3/S5/AppClient/tp1/components/UI/Input.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { View, TextInput, Button } from \"react-native\";\nimport { addTodoList } from \"../../API/todoAPI\";\n\n\nexport default function Input(props) {\n    const [newTodoText, setNewTodoText] = useState(\"\");\n    const [token, setToken] = useState(props.token);\n    const [username, setUsername] = useState(props.username);\n    const [error, setError] = useState(\"\");\n    const [id, setId] = useState(\"\");\n\n    const getNewTask = (token, username, title) => {\n        setError(\"\");\n        addTodoList(title, username,token)\n          .then((data) => {\n            setId(data.id);\n          })\n          .catch((err) => {\n            setError(err.message);\n          });\n      };\n     \n      const addTodo = () => {\n        getNewTask(token, username, newTodoText);\n        props.addNewTodo(newTodoText, id);\n        setNewTodoText(\"\");\n      };\n\n      console.log(\"id\", id)\n      \n\n    return (\n        <View>\n            <TextInput\n                onChangeText={setNewTodoText}\n                placeholder=\"saisir ici un nouvel item\"\n                onSubmitEditing={addTodo}\n                value={newTodoText}\n            />\n            <Button title=\"Ajouter\" onPress={addTodo} />\n            </View>\n    )\n}\n\n"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAAC;AAAA;AAAA;AAEjD,SAASC,WAAW;AAGpB,eAAe,SAASC,KAAK,CAACC,KAAK,EAAE;EACjC,gBAAsCJ,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA3CK,WAAW;IAAEC,cAAc;EAClC,iBAA0BN,QAAQ,CAACI,KAAK,CAACG,KAAK,CAAC;IAAA;IAAxCA,KAAK;IAAEC,QAAQ;EACtB,iBAAgCR,QAAQ,CAACI,KAAK,CAACK,QAAQ,CAAC;IAAA;IAAjDA,QAAQ;IAAEC,WAAW;EAC5B,iBAA0BV,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA/BW,KAAK;IAAEC,QAAQ;EACtB,iBAAoBZ,QAAQ,CAAC,EAAE,CAAC;IAAA;IAAzBa,EAAE;IAAEC,KAAK;EAEhB,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAIR,KAAK,EAAEE,QAAQ,EAAEO,KAAK,EAAK;IAC3CJ,QAAQ,CAAC,EAAE,CAAC;IACZV,WAAW,CAACc,KAAK,EAAEP,QAAQ,EAACF,KAAK,CAAC,CAC/BU,IAAI,CAAC,UAACC,IAAI,EAAK;MACdJ,KAAK,CAACI,IAAI,CAACL,EAAE,CAAC;IAChB,CAAC,CAAC,CACDM,KAAK,CAAC,UAACC,GAAG,EAAK;MACdR,QAAQ,CAACQ,GAAG,CAACC,OAAO,CAAC;IACvB,CAAC,CAAC;EACN,CAAC;EAED,IAAMC,OAAO,GAAG,SAAVA,OAAO,GAAS;IACpBP,UAAU,CAACR,KAAK,EAAEE,QAAQ,EAAEJ,WAAW,CAAC;IACxCD,KAAK,CAACmB,UAAU,CAAClB,WAAW,EAAEQ,EAAE,CAAC;IACjCP,cAAc,CAAC,EAAE,CAAC;EACpB,CAAC;EAEDkB,OAAO,CAACC,GAAG,CAAC,IAAI,EAAEZ,EAAE,CAAC;EAGvB,OACI,oBAAC,IAAI,QACD,oBAAC,SAAS;IACN,YAAY,EAAEP,cAAe;IAC7B,WAAW,EAAC,2BAA2B;IACvC,eAAe,EAAEgB,OAAQ;IACzB,KAAK,EAAEjB;EAAY,EACrB,EACF,oBAAC,MAAM;IAAC,KAAK,EAAC,SAAS;IAAC,OAAO,EAAEiB;EAAQ,EAAG,CACrC;AAEnB"},"metadata":{},"sourceType":"module"}