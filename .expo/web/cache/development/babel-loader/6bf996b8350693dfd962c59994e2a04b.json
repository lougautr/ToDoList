{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { getUsers } from \"../API/todoAPI\";\nimport UsersList from \"../components/UsersList\";\nexport default function AdminScreen(props) {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  useEffect(function () {\n    if (data.length == 0) {\n      users(props.token, setData);\n    }\n  }, [data]);\n  var users = function users(token, setData) {\n    setError(\"\");\n    getUsers(token).then(function (data) {\n      setData(data);\n    }).catch(function (err) {\n      setError(err.message);\n    });\n  };\n  return React.createElement(View, null, React.createElement(Text, {\n    style: styles.titre\n  }, \"Liste des utilisateurs\"), React.createElement(UsersList, {\n    data: data,\n    token: props.token\n  }));\n}\nvar styles = StyleSheet.create({\n  titre: {\n    fontSize: 30,\n    textAlign: \"left\",\n    marginTop: 20,\n    marginBottom: 20,\n    fontWeight: \"bold\",\n    marginLeft: 10\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","getUsers","UsersList","AdminScreen","props","data","setData","error","setError","length","users","token","then","catch","err","message","styles","titre","StyleSheet","create","fontSize","textAlign","marginTop","marginBottom","fontWeight","marginLeft"],"sources":["/Users/antoninmontagne/Desktop/Info/L3/S5/AppClient/tp1/Screen/AdminScreen.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\nimport { View, Text, FlatList, StyleSheet } from 'react-native'\nimport { getUsers } from '../API/todoAPI';\n\nimport UsersList from '../components/UsersList';\n\nexport default function AdminScreen (props) {\n\n    const [data, setData] = useState([]);\n    const [error, setError] = useState(\"\");\n\n    useEffect(() => {\n        if (data.length == 0) {\n          users(props.token, setData);\n        }\n      }, [data]);\n    \n      const users = (token, setData) => {\n        setError(\"\");\n        getUsers(token)\n          .then((data) => {\n            setData(data);\n          })\n          .catch((err) => {\n            setError(err.message);\n          });\n      };\n      \n  return (\n          <View>\n            <Text style={styles.titre}>Liste des utilisateurs</Text>\n            <UsersList data={data} token={props.token}/>\n          </View>\n        )\n}\n\nconst styles = StyleSheet.create({\ntitre: {\n  fontSize: 30,\n  textAlign: \"left\",\n  marginTop: 20,\n  marginBottom: 20,\n  fontWeight: \"bold\",\n  marginLeft: 10,\n},\n});\n"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAAA;AAAA;AAAA;AAAA;AAEhD,SAASC,QAAQ;AAEjB,OAAOC,SAAS;AAEhB,eAAe,SAASC,WAAW,CAAEC,KAAK,EAAE;EAExC,gBAAwBJ,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA7BK,IAAI;IAAEC,OAAO;EACpB,iBAA0BN,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA/BO,KAAK;IAAEC,QAAQ;EAEtBT,SAAS,CAAC,YAAM;IACZ,IAAIM,IAAI,CAACI,MAAM,IAAI,CAAC,EAAE;MACpBC,KAAK,CAACN,KAAK,CAACO,KAAK,EAAEL,OAAO,CAAC;IAC7B;EACF,CAAC,EAAE,CAACD,IAAI,CAAC,CAAC;EAEV,IAAMK,KAAK,GAAG,SAARA,KAAK,CAAIC,KAAK,EAAEL,OAAO,EAAK;IAChCE,QAAQ,CAAC,EAAE,CAAC;IACZP,QAAQ,CAACU,KAAK,CAAC,CACZC,IAAI,CAAC,UAACP,IAAI,EAAK;MACdC,OAAO,CAACD,IAAI,CAAC;IACf,CAAC,CAAC,CACDQ,KAAK,CAAC,UAACC,GAAG,EAAK;MACdN,QAAQ,CAACM,GAAG,CAACC,OAAO,CAAC;IACvB,CAAC,CAAC;EACN,CAAC;EAEL,OACQ,oBAAC,IAAI,QACH,oBAAC,IAAI;IAAC,KAAK,EAAEC,MAAM,CAACC;EAAM,4BAA8B,EACxD,oBAAC,SAAS;IAAC,IAAI,EAAEZ,IAAK;IAAC,KAAK,EAAED,KAAK,CAACO;EAAM,EAAE,CACvC;AAEjB;AAEA,IAAMK,MAAM,GAAGE,UAAU,CAACC,MAAM,CAAC;EACjCF,KAAK,EAAE;IACLG,QAAQ,EAAE,EAAE;IACZC,SAAS,EAAE,MAAM;IACjBC,SAAS,EAAE,EAAE;IACbC,YAAY,EAAE,EAAE;IAChBC,UAAU,EAAE,MAAM;IAClBC,UAAU,EAAE;EACd;AACA,CAAC,CAAC"},"metadata":{},"sourceType":"module"}