{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport TodoList from \"../components/TodoList\";\nimport { getTodoLists } from \"../API/todoAPI\";\nexport default function TodoLists(props) {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  var _useState5 = useState(props.token),\n    _useState6 = _slicedToArray(_useState5, 2),\n    token = _useState6[0],\n    setToken = _useState6[1];\n  var _useState7 = useState(props.username),\n    _useState8 = _slicedToArray(_useState7, 2),\n    username = _useState8[0],\n    setUsername = _useState8[1];\n  useEffect(function () {\n    if (data.length == 0) {\n      getTodo(token, setData, username);\n    }\n  }, [data]);\n  var getTodo = function getTodo(token, setData, username) {\n    setError(\"\");\n    getTodoLists(username, token).then(function (data) {\n      setData(data);\n      return data;\n    }).catch(function (err) {\n      setError(err.message);\n    });\n  };\n  return React.createElement(TodoList, {\n    data: data,\n    token: token,\n    username: username,\n    rafraichir: getTodo\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","TodoList","getTodoLists","TodoLists","props","data","setData","error","setError","token","setToken","username","setUsername","length","getTodo","then","catch","err","message","styles","StyleSheet","create","container","flex","backgroundColor","alignItems","justifyContent"],"sources":["/Users/antoninmontagne/Desktop/Info/L3/S5/AppClient/tp1/Screen/TodoListsScreen.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport TodoList from \"../components/TodoList\";\nimport { getTodoLists } from \"../API/todoAPI\";\n\nexport default function TodoLists(props) {\n  const [data, setData] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [token, setToken] = useState(props.token);\n  const [username, setUsername] = useState(props.username);\n\n  useEffect(() => {\n    if (data.length == 0) {\n      getTodo(token, setData, username);\n    }\n  }, [data]);\n\n  const getTodo = (token, setData, username) => {\n    setError(\"\");\n    getTodoLists(username,token)\n      .then((data) => {\n        setData(data);\n        return(data)\n      })\n      .catch((err) => {\n        setError(err.message);\n      });\n  };\n\n  return<TodoList data={data} token={token} username={username} rafraichir={getTodo}/>;\n}\n\nconst styles = StyleSheet.create({\n    container: {\n      flex: 1,\n      backgroundColor: '#fff',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n  });\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAElD,OAAOC,QAAQ;AACf,SAASC,YAAY;AAErB,eAAe,SAASC,SAAS,CAACC,KAAK,EAAE;EACvC,gBAAwBJ,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA7BK,IAAI;IAAEC,OAAO;EACpB,iBAA0BN,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA/BO,KAAK;IAAEC,QAAQ;EACtB,iBAA0BR,QAAQ,CAACI,KAAK,CAACK,KAAK,CAAC;IAAA;IAAxCA,KAAK;IAAEC,QAAQ;EACtB,iBAAgCV,QAAQ,CAACI,KAAK,CAACO,QAAQ,CAAC;IAAA;IAAjDA,QAAQ;IAAEC,WAAW;EAE5Bb,SAAS,CAAC,YAAM;IACd,IAAIM,IAAI,CAACQ,MAAM,IAAI,CAAC,EAAE;MACpBC,OAAO,CAACL,KAAK,EAAEH,OAAO,EAAEK,QAAQ,CAAC;IACnC;EACF,CAAC,EAAE,CAACN,IAAI,CAAC,CAAC;EAEV,IAAMS,OAAO,GAAG,SAAVA,OAAO,CAAIL,KAAK,EAAEH,OAAO,EAAEK,QAAQ,EAAK;IAC5CH,QAAQ,CAAC,EAAE,CAAC;IACZN,YAAY,CAACS,QAAQ,EAACF,KAAK,CAAC,CACzBM,IAAI,CAAC,UAACV,IAAI,EAAK;MACdC,OAAO,CAACD,IAAI,CAAC;MACb,OAAOA,IAAI;IACb,CAAC,CAAC,CACDW,KAAK,CAAC,UAACC,GAAG,EAAK;MACdT,QAAQ,CAACS,GAAG,CAACC,OAAO,CAAC;IACvB,CAAC,CAAC;EACN,CAAC;EAED,OAAM,oBAAC,QAAQ;IAAC,IAAI,EAAEb,IAAK;IAAC,KAAK,EAAEI,KAAM;IAAC,QAAQ,EAAEE,QAAS;IAAC,UAAU,EAAEG;EAAQ,EAAE;AACtF;AAEA,IAAMK,MAAM,GAAGC,UAAU,CAACC,MAAM,CAAC;EAC7BC,SAAS,EAAE;IACTC,IAAI,EAAE,CAAC;IACPC,eAAe,EAAE,MAAM;IACvBC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE;EAClB;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module"}