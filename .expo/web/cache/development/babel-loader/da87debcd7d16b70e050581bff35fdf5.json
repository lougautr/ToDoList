{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { setStatusBarNetworkActivityIndicatorVisible } from \"expo-status-bar\";\nimport React, { useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport todoData from \"../Helpers/todoData\";\nimport TodoItem from \"./TodoItem\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function TodoList() {\n  var _useState = useState(todoData.filter(function (item) {\n      return item.done;\n    }).length),\n    _useState2 = _slicedToArray(_useState, 2),\n    count = _useState2[0],\n    setCount = _useState2[1];\n  var _useState3 = useState(todoData),\n    _useState4 = _slicedToArray(_useState3, 2),\n    todos = _useState4[0],\n    setTodos = _useState4[1];\n  var _useState5 = useState(todoData),\n    _useState6 = _slicedToArray(_useState5, 2),\n    todosSave = _useState6[0],\n    setTodosSave = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    newTodoText = _useState8[0],\n    setNewTodoText = _useState8[1];\n  var countDone = function countDone(done) {\n    if (done == false) {\n      setCount(count + 1);\n    } else {\n      setCount(count - 1);\n    }\n  };\n  var deleteTodo = function deleteTodo(id) {\n    var newTodos = todoData.filter(function (item) {\n      return item.id != id;\n    });\n    setTodos(newTodos);\n    setTodosSave(newTodos);\n    setCount(newTodos.filter(function (item) {\n      return item.done;\n    }).length);\n  };\n  var addNewTodo = function addNewTodo() {\n    setNewTodoText('');\n    var monid = Math.max.apply(Math, _toConsumableArray(todos.map(function (item) {\n      return item.id;\n    }))) + 1;\n    setTodos([].concat(_toConsumableArray(todos), [{\n      id: monid,\n      content: newTodoText,\n      done: false\n    }]));\n    setTodosSave([].concat(_toConsumableArray(todos), [{\n      id: monid,\n      content: newTodoText,\n      done: false\n    }]));\n  };\n  var showInprocess = function showInprocess() {\n    setTodos(todosSave.filter(function (item) {\n      return item.done == false;\n    }));\n  };\n  var showDone = function showDone() {\n    setTodos(todosSave.filter(function (item) {\n      return item.done == true;\n    }));\n  };\n  var checkAll = function checkAll() {\n    var newTodos = todosSave.map(function (item) {\n      item.done = true;\n      return item;\n    });\n    setTodos(newTodos);\n    setTodosSave(newTodos);\n    setCount(newTodos.filter(function (item) {\n      return item.done;\n    }).length);\n  };\n  var uncheckAll = function uncheckAll() {\n    var newTodos = todosSave.map(function (item) {\n      item.done = false;\n      return item;\n    });\n    setTodos(newTodos);\n    setTodosSave(newTodos);\n    setCount(newTodos.filter(function (item) {\n      return item.done;\n    }).length);\n  };\n  return _jsxs(View, {\n    children: [_jsx(FlatList, {\n      style: {\n        paddingLeft: 10\n      },\n      data: todos,\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return _jsx(TodoItem, {\n          item: item,\n          setCountDone: countDone,\n          delete: deleteTodo\n        });\n      }\n    }), _jsx(TextInput, {\n      onChangeText: setNewTodoText,\n      placeholder: \"saisir ici un nouvel item\",\n      onSubmitEditing: addNewTodo,\n      value: newTodoText\n    }), _jsxs(Text, {\n      children: [count, \" items ont \\xE9t\\xE9 r\\xE9alis\\xE9s\"]\n    }), _jsxs(\"nav\", {\n      style: styles.button,\n      children: [_jsx(Button, {\n        className: styles.button,\n        title: \"todos en cours\",\n        onPress: function onPress() {\n          return showInprocess();\n        }\n      }), _jsx(Button, {\n        title: \"todos faites\",\n        onPress: function onPress() {\n          return showDone();\n        }\n      }), _jsx(Button, {\n        title: \"tous les todos\",\n        onPress: function onPress() {\n          return setTodos(todosSave);\n        }\n      }), _jsx(Button, {\n        title: \"cocher toutes les todos\",\n        onPress: function onPress() {\n          return checkAll();\n        }\n      }), _jsx(Button, {\n        title: \"d\\xE9cocher toutes les todos\",\n        onPress: function onPress() {\n          return uncheckAll();\n        }\n      })]\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  button: {\n    margin: '10'\n  }\n});","map":{"version":3,"names":["setStatusBarNetworkActivityIndicatorVisible","React","useState","todoData","TodoItem","TodoList","filter","item","done","length","count","setCount","todos","setTodos","todosSave","setTodosSave","newTodoText","setNewTodoText","countDone","deleteTodo","id","newTodos","addNewTodo","monid","Math","max","map","content","showInprocess","showDone","checkAll","uncheckAll","paddingLeft","styles","button","StyleSheet","create","margin"],"sources":["/Users/antoninmontagne/Desktop/Info/L3/S5/AppClient/tp1/components/TodoList.js"],"sourcesContent":["import { setStatusBarNetworkActivityIndicatorVisible } from \"expo-status-bar\";\nimport React, { useState } from \"react\";\nimport { StyleSheet, View, TextInput, Button, Text, FlatList, Switch } from 'react-native';\n\nimport todoData from '../Helpers/todoData';\nimport TodoItem from './TodoItem';\n\nexport default function TodoList(){\n    const [count, setCount] = useState(todoData.filter((item) => item.done).length);\n    const [todos, setTodos] = useState(todoData);\n    const [todosSave, setTodosSave] = useState(todoData);\n    const [newTodoText, setNewTodoText] = useState('');\n\n    const countDone = (done) => {\n        if (done == false){\n            setCount(count+1) \n        }else{\n            setCount(count-1)\n        }\n    }\n\n    const deleteTodo = (id) => {\n        const newTodos = todoData.filter((item) => item.id != id);\n        setTodos(newTodos)\n        setTodosSave(newTodos)\n        setCount(newTodos.filter(item => item.done).length)\n    }\n\n    const addNewTodo = () => {\n        setNewTodoText('');\n        const monid = Math.max(...todos.map(item => item.id)) + 1;\n        setTodos([...todos, {id: monid, content: newTodoText, done: false}])\n        setTodosSave([...todos, {id: monid, content: newTodoText, done: false}])\n    }\n\n    const showInprocess = () => {\n            setTodos(todosSave.filter((item) => item.done == false));\n    }\n\n    const showDone = () => {\n            setTodos(todosSave.filter((item) => item.done == true));\n    }\n\n    const checkAll = () => {\n        const newTodos = todosSave.map((item) => {\n            item.done = true;\n            return item;\n        });\n        setTodos(newTodos);\n        setTodosSave(newTodos);\n        setCount(newTodos.filter(item => item.done).length)\n    }\n\n    const uncheckAll = () => {\n        const newTodos = todosSave.map((item) => {\n            item.done = false;\n            return item;\n        });\n        setTodos(newTodos);\n        setTodosSave(newTodos);\n        setCount(newTodos.filter(item => item.done).length)\n    }\n\n    return (\n        <View>\n             <FlatList\n            style={{ paddingLeft: 10 }}\n            data={todos}\n            renderItem={({item}) => <TodoItem item={item} setCountDone={countDone} delete={deleteTodo} />}\n             />\n             <TextInput\n                onChangeText={setNewTodoText}\n                placeholder='saisir ici un nouvel item'\n                onSubmitEditing={addNewTodo}\n                value={newTodoText}\n            />    \n             <Text>{count} items ont été réalisés</Text>\n             <nav style={styles.button}>\n                <Button className={styles.button} title='todos en cours' onPress={() => showInprocess()} />\n                <Button title='todos faites' onPress={() => showDone()} /> \n                <Button title='tous les todos' onPress={() => setTodos(todosSave)} />\n                <Button title='cocher toutes les todos' onPress={() => checkAll()} />\n                <Button title='décocher toutes les todos' onPress={() => uncheckAll()}/>\n             </nav>\n        </View>\n        \n    )\n}\n\nconst styles = StyleSheet.create({\n   button: {\n         margin: '10'\n   }\n})"],"mappings":"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"},"metadata":{},"sourceType":"module"}